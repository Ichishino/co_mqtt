#ifndef CO_MQTT_SERVER_H_INCLUDED
#define CO_MQTT_SERVER_H_INCLUDED

#include <coldforce/net/co_tcp_client.h>

#include <coldforce/mqtt/co_mqtt.h>

CO_EXTERN_C_BEGIN

struct co_mqtt_client_t;

//---------------------------------------------------------------------------//
// mqtt server
//---------------------------------------------------------------------------//

//---------------------------------------------------------------------------//
//---------------------------------------------------------------------------//

//---------------------------------------------------------------------------//
// private
//---------------------------------------------------------------------------//

void
co_mqtt_server_on_receive_ready(
    co_thread_t* thread,
    co_tcp_client_t* tcp_client
);

//---------------------------------------------------------------------------//
// public
//---------------------------------------------------------------------------//

CO_MQTT_API
struct co_mqtt_client_t*
co_tcp_upgrade_to_mqtt(
    co_tcp_client_t* tcp_client
);

//---------------------------------------------------------------------------//
//---------------------------------------------------------------------------//

CO_EXTERN_C_END

#endif // CO_MQTT_SERVER_H_INCLUDED
